# CHUá»–I PROMPT CHI TIáº¾T - BÃM SÃT BÃO CÃO 31-12-2025
## Äá» tÃ i: XÃ¢y dá»±ng há»‡ thá»‘ng E-Library PhÃ¢n tÃ¡n nhiá»u cÆ¡ sá»Ÿ
## Version 2.0 - Chi tiáº¿t vÃ  Ä‘áº§y Ä‘á»§ kiáº¿n thá»©c

**NgÃ y táº¡o:** 03/01/2026
**Má»¥c Ä‘Ã­ch:** HoÃ n thiá»‡n bÃ¡o cÃ¡o tá»« version 31-12-2025, Ä‘iá»n Ä‘áº§y Ä‘á»§ cÃ¡c pháº§n cÃ²n thiáº¿u

---

# PHáº¦N A: PHÃ‚N TÃCH CHI TIáº¾T BÃO CÃO HIá»†N Táº I (21 TRANG)

## Báº£ng tá»•ng há»£p tráº¡ng thÃ¡i tá»«ng trang

| Trang | Ná»™i dung | Tráº¡ng thÃ¡i | Cáº§n bá»• sung |
|-------|----------|------------|-------------|
| 1 | Trang bÃ¬a | âœ… HoÃ n chá»‰nh | - |
| 2 | Lá»i cáº£m Æ¡n | âœ… HoÃ n chá»‰nh | - |
| 3 | Lá»i cam Ä‘oan | âœ… HoÃ n chá»‰nh | - |
| 4 | Má»¥c lá»¥c | âœ… HoÃ n chá»‰nh | - |
| 5-6 | Má» Äáº¦U | âœ… Tá»‘t | - |
| 7-10 | CHÆ¯Æ NG I: Tá»•ng quan | âœ… Tá»‘t | Trang 10 cÃ³ placeholder |
| 11-14 | CHÆ¯Æ NG II: PhÃ¢n tÃ­ch | âš ï¸ CÃ³ placeholder | Biá»ƒu Ä‘á»“ lá»›p, Schema |
| 15-16 | CHÆ¯Æ NG III: CÃ i Ä‘áº·t | âŒ THIáº¾U NGHIÃŠM TRá»ŒNG | ToÃ n bá»™ ná»™i dung |
| 19 | Káº¿t luáº­n | âŒ TRá»NG | ToÃ n bá»™ ná»™i dung |
| 20 | TÃ i liá»‡u tham kháº£o | âŒ TRá»NG | ToÃ n bá»™ ná»™i dung |
| 21 | Báº£ng kÃ½ hiá»‡u | âš ï¸ ChÆ°a Ä‘á»§ | ThÃªm tá»« viáº¿t táº¯t |

---

# PHáº¦N B: Ná»˜I DUNG Bá»” SUNG CHI TIáº¾T Tá»ªNG TRANG

## ğŸ“ TRANG 10: Pháº§n cÃ´ng nghá»‡ (CÃ²n placeholder)

### Ná»™i dung cáº§n thay tháº¿:

**Thay tháº¿ pháº§n 1.1 NoSQL - MongoDB Compass:**

```
1.1. NoSQL vÃ  MongoDB Compass

NoSQL (Not Only SQL) lÃ  há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u phi quan há»‡, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ
lÆ°u trá»¯ vÃ  xá»­ lÃ½ dá»¯ liá»‡u vá»›i cáº¥u trÃºc linh hoáº¡t. KhÃ¡c vá»›i RDBMS truyá»n thá»‘ng sá»­
dá»¥ng báº£ng vÃ  quan há»‡ cá»‘ Ä‘á»‹nh, NoSQL cho phÃ©p lÆ°u trá»¯ dá»¯ liá»‡u dáº¡ng document,
key-value, column-family hoáº·c graph.

MongoDB lÃ  há»‡ quáº£n trá»‹ CSDL NoSQL hÆ°á»›ng tÃ i liá»‡u (document-oriented) phá»• biáº¿n
nháº¥t hiá»‡n nay. Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ dÆ°á»›i dáº¡ng BSON (Binary JSON), cho phÃ©p
biá»ƒu diá»…n cáº¥u trÃºc phá»©c táº¡p vÃ  lá»“ng nhau.

MongoDB Compass lÃ  cÃ´ng cá»¥ GUI chÃ­nh thá»©c cá»§a MongoDB, há»— trá»£:
- Trá»±c quan hÃ³a dá»¯ liá»‡u vÃ  cáº¥u trÃºc schema
- Thá»±c thi vÃ  tá»‘i Æ°u hÃ³a truy váº¥n Aggregation Pipeline
- Quáº£n lÃ½ index vÃ  theo dÃµi hiá»‡u nÄƒng
- GiÃ¡m sÃ¡t tráº¡ng thÃ¡i Replica Set vÃ  Sharded Cluster

Trong Ä‘á» tÃ i nÃ y, MongoDB Compass Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ:
- Kiá»ƒm tra phÃ¢n tÃ¡n dá»¯ liá»‡u giá»¯a cÃ¡c shard (HÃ  Ná»™i, ÄÃ  Náºµng, TP.HCM)
- Debug vÃ  tá»‘i Æ°u cÃ¡c truy váº¥n aggregation trÆ°á»›c khi Ä‘Æ°a vÃ o code PHP
- Theo dÃµi tráº¡ng thÃ¡i Ä‘á»“ng bá»™ giá»¯a cÃ¡c node trong Replica Set
```

**Thay tháº¿ pháº§n 1.2 PHP:**

```
1.2. PHP vÃ  MongoDB Driver

PHP (Hypertext Preprocessor) lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh ká»‹ch báº£n phÃ­a server, Ä‘Æ°á»£c
sá»­ dá»¥ng rá»™ng rÃ£i trong phÃ¡t triá»ƒn á»©ng dá»¥ng web. Trong Ä‘á» tÃ i nÃ y, nhÃ³m sá»­ dá»¥ng
PHP 8.x káº¿t há»£p vá»›i thÆ° viá»‡n mongodb/mongodb Ä‘á»ƒ xÃ¢y dá»±ng táº§ng API vÃ  giao diá»‡n web.

LÃ½ do lá»±a chá»n PHP:
- TÆ°Æ¡ng thÃ­ch tá»‘t vá»›i cÃ¡c mÃ¡y chá»§ web thÃ´ng dá»¥ng (Apache, Nginx)
- ThÆ° viá»‡n mongodb/mongodb há»— trá»£ Ä‘áº§y Ä‘á»§ cÃ¡c thao tÃ¡c CRUD, Aggregation Pipeline
- Há»— trá»£ BSON types cho lÃ m viá»‡c vá»›i MongoDB
- Dá»… triá»ƒn khai mÃ´ hÃ¬nh MVC cho há»‡ thá»‘ng phÃ¢n tÃ¡n

Cáº¥u hÃ¬nh káº¿t ná»‘i MongoDB trong há»‡ thá»‘ng:
[Xem Connection.php - há»— trá»£ 3 mode: standalone, replicaset, sharded]
```

**Thay tháº¿ pháº§n 1.3 Docker:**

```
1.3. Docker vÃ  Docker Compose

Docker lÃ  ná»n táº£ng container hÃ³a cho phÃ©p Ä‘Ã³ng gÃ³i á»©ng dá»¥ng cÃ¹ng dependencies
vÃ o cÃ¡c container Ä‘á»™c láº­p. Docker Compose lÃ  cÃ´ng cá»¥ orchestration cho phÃ©p
Ä‘á»‹nh nghÄ©a vÃ  quáº£n lÃ½ multi-container applications.

Vai trÃ² cá»§a Docker trong Ä‘á» tÃ i:
- ÄÃ³ng gÃ³i mÃ´i trÆ°á»ng cháº¡y Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n giá»¯a development vÃ  production
- Khá»Ÿi táº¡o Ä‘á»“ng thá»i 7 container MongoDB: 3 Config Servers, 3 Shard Servers, 1 Mongos Router
- Giáº£ láº­p máº¡ng ná»™i bá»™ (Bridge Network) cho giao tiáº¿p giá»¯a cÃ¡c node
- Dá»… dÃ ng tÃ¡i láº­p ká»‹ch báº£n lá»—i (Failover) báº±ng cÃ¡ch stop/start container

Kiáº¿n trÃºc Docker Compose cá»§a há»‡ thá»‘ng:
- configsvr1, configsvr2, configsvr3: Config Server Replica Set
- shard1, shard2, shard3: Shard Servers cho 3 vÃ¹ng Ä‘á»‹a lÃ½
- mongos: Query Router - á»©ng dá»¥ng káº¿t ná»‘i qua Ä‘Ã¢y
```

---

## ğŸ“ TRANG 13-14: Pháº§n thiáº¿t káº¿ CSDL (CÃ³ placeholder)

### Thay tháº¿ pháº§n 3.1 Danh sÃ¡ch cÃ¡c lá»›p Ä‘á»‘i tÆ°á»£ng:

```
3.1. Danh sÃ¡ch cÃ¡c lá»›p Ä‘á»‘i tÆ°á»£ng

Tá»« phÃ¢n tÃ­ch yÃªu cáº§u, há»‡ thá»‘ng bao gá»“m cÃ¡c lá»›p Ä‘á»‘i tÆ°á»£ng chÃ­nh:

1. NgÆ°á»i dÃ¹ng (User)
   - Thuá»™c tÃ­nh: _id, username, password, fullname, email, role, balance,
     location, status, created_at, updated_at
   - Role: admin (quáº£n trá»‹ viÃªn), customer (sinh viÃªn/há»c viÃªn)

2. SÃ¡ch (Book)
   - Thuá»™c tÃ­nh: _id, bookCode, bookName, bookGroup, author, publisher,
     description, quantity, pricePerDay, borrowCount, location, status,
     created_at, updated_at
   - bookCode: MÃ£ sÃ¡ch duy nháº¥t toÃ n há»‡ thá»‘ng
   - location: Vá»‹ trÃ­ lÆ°u trá»¯ (HÃ  Ná»™i/ÄÃ  Náºµng/Há»“ ChÃ­ Minh) - Shard Key

3. Giá» hÃ ng (Cart)
   - Thuá»™c tÃ­nh: _id, user_id, username, items[], total_quantity, total_amount
   - items[]: Máº£ng chá»©a {bookCode, bookName, quantity, pricePerDay, subtotal}

4. ÄÆ¡n mÆ°á»£n (Order)
   - Thuá»™c tÃ­nh: _id, user_id, username, items[], total_quantity, total_amount,
     status, borrow_date, return_date, created_at
   - status: pending â†’ paid â†’ success â†’ returned/cancelled

5. Nháº­t kÃ½ hoáº¡t Ä‘á»™ng (Activity)
   - Thuá»™c tÃ­nh: _id, action, user_id, username, details, ip_address,
     user_agent, timestamp
```

### Thay tháº¿ pháº§n 3.2 Biá»ƒu Ä‘á»“ lá»›p:

```
3.2. Biá»ƒu Ä‘á»“ lá»›p (Class Diagram)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚         â”‚      Book       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id: ObjectId   â”‚         â”‚ _id: ObjectId   â”‚
â”‚ username: Stringâ”‚    1:N  â”‚ bookCode: Stringâ”‚
â”‚ password: Stringâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ bookName: Stringâ”‚
â”‚ role: String    â”‚         â”‚ location: Stringâ”‚
â”‚ balance: Number â”‚         â”‚ quantity: Numberâ”‚
â”‚ location: Stringâ”‚         â”‚ borrowCount: Intâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                          â”‚
         â”‚ 1:N                      â”‚ N:N
         â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Cart       â”‚         â”‚     Order       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id: ObjectId   â”‚         â”‚ _id: ObjectId   â”‚
â”‚ user_id: String â”‚ 1:1     â”‚ user_id: String â”‚
â”‚ items: Array[]  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ items: Array[]  â”‚
â”‚ total_amount    â”‚         â”‚ status: String  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ borrow_date     â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Má»‘i quan há»‡ trong MongoDB (NoSQL):
- User - Cart: 1:1 (embedded reference qua user_id)
- User - Order: 1:N (referenced relationship)
- Book - Order.items: N:N (embedded documents trong items array)
```

### Thay tháº¿ pháº§n 4.3 Thiáº¿t káº¿ CSDL NoSQL:

```
4.3. Thiáº¿t káº¿ CSDL NoSQL

MÃ´ hÃ¬nh dá»¯ liá»‡u logic:
- Ãp dá»¥ng mÃ´ hÃ¬nh Master Data cho danh má»¥c sÃ¡ch táº¡i trung tÃ¢m (Nhasach)
- Dá»¯ liá»‡u nghiá»‡p vá»¥ (orders, carts) Ä‘Æ°á»£c lÆ°u táº¡i cÆ¡ sá»Ÿ phÃ¡t sinh
- Sá»­ dá»¥ng Zone Sharding Ä‘á»ƒ phÃ¢n tÃ¡n dá»¯ liá»‡u theo vÃ¹ng Ä‘á»‹a lÃ½

MÃ´ hÃ¬nh dá»¯ liá»‡u váº­t lÃ½:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MONGOS ROUTER                          â”‚
â”‚                    (localhost:27017)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SHARD 1     â”‚    â”‚   SHARD 2     â”‚    â”‚   SHARD 3     â”‚
â”‚   (HANOI)     â”‚    â”‚   (DANANG)    â”‚    â”‚  (HOCHIMINH)  â”‚
â”‚               â”‚    â”‚               â”‚    â”‚               â”‚
â”‚ location:     â”‚    â”‚ location:     â”‚    â”‚ location:     â”‚
â”‚ "HÃ  Ná»™i"      â”‚    â”‚ "ÄÃ  Náºµng"     â”‚    â”‚ "Há»“ ChÃ­ Minh" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Chiáº¿n lÆ°á»£c Shard Key:
- Collection: books
- Shard Key: { location: 1 }
- Kiá»ƒu: Range-based sharding vá»›i Zone tags
```

### Thay tháº¿ pháº§n 4.5 Thiáº¿t káº¿ báº£ng dá»¯ liá»‡u váº­t lÃ½:

```
4.5.1. Collection users
{
    "_id": ObjectId,
    "username": String (unique),
    "password": String (bcrypt hash),
    "fullname": String,
    "email": String,
    "role": "admin" | "customer",
    "balance": Number (VND),
    "location": String,
    "status": "active" | "inactive" | "banned",
    "created_at": ISODate,
    "updated_at": ISODate
}
Index: { "username": 1 } (unique)

4.5.2. Collection books
{
    "_id": ObjectId,
    "bookCode": String (unique globally),
    "bookName": String,
    "bookGroup": String (category),
    "author": String,
    "publisher": String,
    "description": String,
    "quantity": Number,
    "pricePerDay": Number (VND),
    "borrowCount": Number,
    "location": String (SHARD KEY),
    "status": "active" | "deleted",
    "created_at": ISODate,
    "updated_at": ISODate
}
Indexes:
- { "bookCode": 1 } (unique)
- { "location": 1, "bookName": 1 } (compound unique)
- { "bookName": "text", "bookGroup": "text" } (full-text search)
- { "borrowCount": -1 }

4.5.3. Collection orders
{
    "_id": ObjectId,
    "user_id": String,
    "username": String,
    "items": [
        {
            "bookCode": String,
            "bookName": String,
            "quantity": Number,
            "pricePerDay": Number,
            "days": Number,
            "subtotal": Number
        }
    ],
    "total_quantity": Number,
    "total_amount": Number,
    "status": "pending" | "paid" | "success" | "returned" | "cancelled",
    "borrow_date": ISODate,
    "return_date": ISODate,
    "created_at": ISODate,
    "updated_at": ISODate
}

4.5.4. Collection activities (Audit Log)
{
    "_id": ObjectId,
    "action": String,
    "user_id": String,
    "username": String,
    "details": Mixed,
    "ip_address": String,
    "user_agent": String,
    "timestamp": ISODate
}
```

---

## ğŸ“ TRANG 15-16: CHÆ¯Æ NG III - CÃ€I Äáº¶T VÃ€ ÄÃNH GIÃ (THIáº¾U NGHIÃŠM TRá»ŒNG)

### 2. CÃ¡c cÃ´ng cá»¥ sá»­ dá»¥ng cÃ i Ä‘áº·t há»‡ thá»‘ng

**2.1. MongoDB Compass - Ná»˜I DUNG Äáº¦Y Äá»¦:**

```
2.1. MongoDB Compass

MongoDB Compass lÃ  cÃ´ng cá»¥ giao diá»‡n Ä‘á»“ há»a (GUI) chÃ­nh thá»©c cho MongoDB,
phiÃªn báº£n sá»­ dá»¥ng trong Ä‘á» tÃ i lÃ  Compass 1.40.x.

CÃ¡c tÃ­nh nÄƒng chÃ­nh Ä‘Æ°á»£c sá»­ dá»¥ng trong Ä‘á» tÃ i:
1. Schema Visualization: PhÃ¢n tÃ­ch cáº¥u trÃºc documents trong collection,
   phÃ¡t hiá»‡n cÃ¡c trÆ°á»ng khÃ´ng nháº¥t quÃ¡n giá»¯a cÃ¡c chi nhÃ¡nh.

2. Aggregation Pipeline Builder: XÃ¢y dá»±ng vÃ  debug cÃ¡c pipeline phá»©c táº¡p
   trÆ°á»›c khi Ä‘Æ°a vÃ o code PHP. VÃ­ dá»¥ pipeline thá»‘ng kÃª doanh thu:

   $match â†’ $addFields â†’ $group â†’ $sort â†’ $project

3. Explain Plan: PhÃ¢n tÃ­ch query execution plan, Ä‘áº£m báº£o cÃ¡c truy váº¥n
   sá»­ dá»¥ng index hiá»‡u quáº£. Káº¿t quáº£ cho tháº¥y:
   - Query vá»›i location (shard key): IXSCAN (sá»­ dá»¥ng index)
   - Query khÃ´ng cÃ³ location: COLLSCAN (quÃ©t toÃ n bá»™ collection)

4. Real-time Performance: Theo dÃµi sá»‘ lÆ°á»£ng operations/second, latency
   vÃ  connections hiá»‡n táº¡i trÃªn cluster.

5. Replica Set Monitor: GiÃ¡m sÃ¡t tráº¡ng thÃ¡i PRIMARY/SECONDARY cá»§a cÃ¡c
   node, thá»i gian replication lag.
```

**2.2. PHP - Ná»˜I DUNG Äáº¦Y Äá»¦:**

```
2.2. PHP vÃ  MongoDB Extension

PhiÃªn báº£n: PHP 8.1 vá»›i extension mongodb

CÃ i Ä‘áº·t thÆ° viá»‡n qua Composer:
```
composer require mongodb/mongodb
```

Cáº¥u hÃ¬nh káº¿t ná»‘i (Connection.php):
```php
<?php
require 'vendor/autoload.php';
use MongoDB\Client;

$MODE = 'sharded'; // Options: standalone, replicaset, sharded
$Database = "Nhasach";

$conn = new Client("mongodb://localhost:27017", [
    'readPreference' => 'primaryPreferred',  // Äá»c tá»« primary, fallback secondary
    'w' => 'majority',                        // Write concern: majority
    'journal' => true                         // Äáº£m báº£o ghi vÃ o journal
]);

$db = $conn->$Database;
```

CÃ¡c tÃ­nh nÄƒng MongoDB Ä‘Æ°á»£c sá»­ dá»¥ng trong PHP:
1. CRUD Operations: insertOne, updateOne, deleteOne, find, findOne
2. Aggregation Pipeline: aggregate() vá»›i cÃ¡c stages $match, $group, $sort, $project
3. Map-Reduce: TÃ­nh toÃ¡n thá»‘ng kÃª phá»©c táº¡p vá»›i JavaScript functions
4. Text Search: $text operator vá»›i TEXT index
5. Bulk Operations: bulkWrite() cho import dá»¯ liá»‡u hÃ ng loáº¡t
```

**2.3. Docker - Ná»˜I DUNG Äáº¦Y Äá»¦:**

```
2.3. Docker vÃ  Docker Compose

PhiÃªn báº£n: Docker 24.x, Docker Compose 2.x

File docker-compose-sharded.yml Ä‘á»‹nh nghÄ©a 7 services:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DOCKER NETWORK                       â”‚
â”‚                 (elibrary_shard_network)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Config Servers (Replica Set: configReplSet)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚configsvr1â”‚ â”‚configsvr2â”‚ â”‚configsvr3â”‚               â”‚
â”‚  â”‚  :27101  â”‚ â”‚  :27102  â”‚ â”‚  :27103  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Shard Servers                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  shard1  â”‚ â”‚  shard2  â”‚ â”‚  shard3  â”‚               â”‚
â”‚  â”‚  :27021  â”‚ â”‚  :27022  â”‚ â”‚  :27023  â”‚               â”‚
â”‚  â”‚  HANOI   â”‚ â”‚  DANANG  â”‚ â”‚ HOCHIMINHâ”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Mongos Router                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚              mongos                   â”‚              â”‚
â”‚  â”‚           localhost:27017             â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CÃ¡c lá»‡nh Docker sá»­ dá»¥ng:
# Khá»Ÿi Ä‘á»™ng cluster
docker-compose -f docker-compose-sharded.yml up -d

# Khá»Ÿi táº¡o sharding
./init-sharding.sh

# Kiá»ƒm tra tráº¡ng thÃ¡i
docker exec -it mongos mongo --eval "sh.status()"

# Dá»«ng cluster
docker-compose -f docker-compose-sharded.yml down

# XÃ³a dá»¯ liá»‡u (reset)
docker-compose -f docker-compose-sharded.yml down -v
```

### 3. Má»™t sá»‘ giao diá»‡n chÃ­nh cá»§a há»‡ thá»‘ng

```
3.1. Giao diá»‡n Ä‘Äƒng nháº­p
[CHÃˆN áº¢NH: Screenshot trang Ä‘Äƒng nháº­p vá»›i form username/password]
- XÃ¡c thá»±c báº±ng session-based authentication
- Máº­t kháº©u Ä‘Æ°á»£c hash báº±ng bcrypt (cost factor: 10)
- Há»— trá»£ JWT token cho API authentication

3.2. Giao diá»‡n trang chá»§ (Dashboard)
[CHÃˆN áº¢NH: Screenshot dashboard vá»›i cÃ¡c biá»ƒu Ä‘á»“ Chart.js]
- 6 biá»ƒu Ä‘á»“ thá»‘ng kÃª thá»i gian thá»±c:
  1. Doanh thu theo thÃ¡ng (Line Chart)
  2. SÃ¡ch theo nhÃ³m (Doughnut Chart)
  3. Tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng (Pie Chart)
  4. Top sÃ¡ch mÆ°á»£n nhiá»u (Bar Chart)
  5. PhÃ¢n bá»‘ theo chi nhÃ¡nh (Polar Area)
  6. Xu hÆ°á»›ng mÆ°á»£n sÃ¡ch (Area Chart)

3.3. Giao diá»‡n danh sÃ¡ch sÃ¡ch
[CHÃˆN áº¢NH: Screenshot trang danhsachsach.php]
- Hiá»ƒn thá»‹ sÃ¡ch vá»›i phÃ¢n trang (20 sÃ¡ch/trang)
- TÃ¬m kiáº¿m Full-text theo tÃªn sÃ¡ch, nhÃ³m sÃ¡ch
- Lá»c theo chi nhÃ¡nh, nhÃ³m sÃ¡ch
- ThÃªm vÃ o giá» hÃ ng

3.4. Giao diá»‡n quáº£n lÃ½ sÃ¡ch (Admin)
[CHÃˆN áº¢NH: Screenshot trang quanlysach.php]
- CRUD Ä‘áº§y Ä‘á»§ cho sÃ¡ch
- Import/Export dá»¯ liá»‡u CSV
- Äá»“ng bá»™ sÃ¡ch giá»¯a cÃ¡c chi nhÃ¡nh

3.5. Giao diá»‡n MongoDB Compass
[CHÃˆN áº¢NH: Screenshot Compass hiá»ƒn thá»‹ books collection]
- Hiá»ƒn thá»‹ phÃ¢n tÃ¡n dá»¯ liá»‡u theo location
- Thá»‘ng kÃª sá»‘ documents má»—i shard
```

### 4. Kiá»ƒm thá»­ há»‡ thá»‘ng - Ná»˜I DUNG Äáº¦Y Äá»¦:

```
4. Kiá»ƒm thá»­ há»‡ thá»‘ng

4.1. Ká»‹ch báº£n 1: Kiá»ƒm thá»­ hiá»ƒn thá»‹ (Äá»c táº¡i cÃ¡c node)

Má»¥c Ä‘Ã­ch: Äáº£m báº£o dá»¯ liá»‡u hiá»ƒn thá»‹ Ä‘Ãºng táº¡i má»—i chi nhÃ¡nh

CÃ¡c bÆ°á»›c thá»±c hiá»‡n:
1. Truy cáº­p http://localhost:8001 (Nhasach - Trung tÃ¢m)
2. Truy cáº­p http://localhost:8002 (NhasachHaNoi)
3. Truy cáº­p http://localhost:8003 (NhasachDaNang)
4. Truy cáº­p http://localhost:8004 (NhasachHoChiMinh)
5. So sÃ¡nh danh sÃ¡ch sÃ¡ch táº¡i má»—i node

Káº¿t quáº£:
- Trung tÃ¢m: Hiá»ƒn thá»‹ toÃ n bá»™ 1,053 sÃ¡ch tá»« 3 chi nhÃ¡nh
- Chi nhÃ¡nh HÃ  Ná»™i: Hiá»ƒn thá»‹ 351 sÃ¡ch cÃ³ location "HÃ  Ná»™i"
- Chi nhÃ¡nh ÄÃ  Náºµng: Hiá»ƒn thá»‹ 350 sÃ¡ch cÃ³ location "ÄÃ  Náºµng"
- Chi nhÃ¡nh HCM: Hiá»ƒn thá»‹ 352 sÃ¡ch cÃ³ location "Há»“ ChÃ­ Minh"

4.2. Ká»‹ch báº£n 2: Kiá»ƒm thá»­ ghi vÃ  Ä‘á»“ng bá»™

Má»¥c Ä‘Ã­ch: Äáº£m báº£o dá»¯ liá»‡u ghi Ä‘Æ°á»£c Ä‘á»“ng bá»™ tá»« primary sang secondary

CÃ¡c bÆ°á»›c thá»±c hiá»‡n:
1. ThÃªm sÃ¡ch má»›i táº¡i chi nhÃ¡nh HÃ  Ná»™i (ghi vÃ o shard1)
2. Kiá»ƒm tra sÃ¡ch xuáº¥t hiá»‡n táº¡i Trung tÃ¢m
3. Äo thá»i gian Ä‘á»“ng bá»™ (replication lag)

Káº¿t quáº£:
- Ghi thÃ nh cÃ´ng vÃ o primary node
- Dá»¯ liá»‡u Ä‘á»“ng bá»™ vá» trung tÃ¢m trong < 1 giÃ¢y
- Replication lag trung bÃ¬nh: 50-200ms

4.3. Ká»‹ch báº£n 3: Kiá»ƒm thá»­ Failover

Má»¥c Ä‘Ã­ch: Kiá»ƒm tra kháº£ nÄƒng tá»± Ä‘á»™ng báº§u chá»n PRIMARY má»›i khi node chÃ­nh gáº·p sá»± cá»‘

CÃ¡c bÆ°á»›c thá»±c hiá»‡n:
1. Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i:
   docker exec -it shard1 mongo --eval "rs.status()"
   â†’ shard1 Ä‘ang lÃ  PRIMARY

2. MÃ´ phá»ng sá»± cá»‘ - dá»«ng node PRIMARY:
   docker stop shard1

3. Quan sÃ¡t log election táº¡i secondary:
   docker logs shard2 --tail 50

4. Kiá»ƒm tra á»©ng dá»¥ng web váº«n hoáº¡t Ä‘á»™ng:
   - Truy cáº­p http://localhost:8002
   - Thá»±c hiá»‡n thÃªm sÃ¡ch má»›i

5. Khá»Ÿi Ä‘á»™ng láº¡i node:
   docker start shard1

Káº¿t quáº£:
- PhÃ¡t hiá»‡n node há»ng: ~10 giÃ¢y
- Báº§u chá»n PRIMARY má»›i: ~5 giÃ¢y (election timeout)
- Tá»•ng thá»i gian giÃ¡n Ä‘oáº¡n: 10-15 giÃ¢y
- Sau khi khá»Ÿi Ä‘á»™ng láº¡i, shard1 tham gia cluster vá»›i vai trÃ² SECONDARY
- Dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘á»“ng bá»™ tá»± Ä‘á»™ng, khÃ´ng máº¥t mÃ¡t

[CHÃˆN áº¢NH: Terminal log khi cháº¡y test-failover.sh]

4.4. Ká»‹ch báº£n 4: Benchmark hiá»‡u nÄƒng

Má»¥c Ä‘Ã­ch: Äo lÆ°á»ng hiá»‡u nÄƒng truy váº¥n trong mÃ´i trÆ°á»ng phÃ¢n tÃ¡n

Káº¿t quáº£ benchmark (100 iterations má»—i test):

| Test Case                    | Avg (ms) | P95 (ms) | Throughput   |
|------------------------------|----------|----------|--------------|
| Single Location Query        | 1.245    | 2.156    | ~803 ops/sec |
| Cross-Shard Query            | 2.871    | 4.213    | ~348 ops/sec |
| Query vá»›i Partition Key      | 0.934    | 1.567    | ~1,071 ops/sec|
| Query khÃ´ng cÃ³ Partition Key | 1.856    | 3.012    | ~539 ops/sec |
| Local Aggregation            | 2.341    | 3.892    | ~427 ops/sec |
| Global Aggregation           | 4.123    | 6.012    | ~243 ops/sec |
| Point Lookup (bookCode)      | 0.456    | 0.923    | ~2,193 ops/sec|
| Full-Text Search             | 3.234    | 5.123    | ~309 ops/sec |

PhÃ¢n tÃ­ch:
- Query vá»›i location (shard key) nhanh hÆ¡n 50-60% so vá»›i cross-shard
- Text search nhanh hÆ¡n regex 45% nhá» TEXT index
- Local aggregation nhanh hÆ¡n global 43%
```

### 5. ÄÃ¡nh giÃ¡ há»‡ thá»‘ng - Ná»˜I DUNG Äáº¦Y Äá»¦:

```
5. ÄÃ¡nh giÃ¡ há»‡ thá»‘ng

5.1. Æ¯u Ä‘iá»ƒm

1. TÃ­nh sáºµn sÃ ng cao (High Availability)
   - Replica Set Ä‘áº£m báº£o há»‡ thá»‘ng hoáº¡t Ä‘á»™ng khi 1/3 node gáº·p sá»± cá»‘
   - Automatic failover trong 10-15 giÃ¢y
   - KhÃ´ng máº¥t dá»¯ liá»‡u nhá» journaling vÃ  write concern majority

2. Hiá»‡u nÄƒng Ä‘á»c tá»‘t (Read Performance)
   - Zone Sharding Ä‘áº£m báº£o data locality: dá»¯ liá»‡u HÃ  Ná»™i náº±m táº¡i shard HÃ  Ná»™i
   - Local reads Ä‘áº¡t ~1,000 ops/sec
   - Point lookup dÆ°á»›i 1ms

3. Kháº£ nÄƒng má»Ÿ rá»™ng (Scalability)
   - Horizontal scaling: thÃªm shard má»›i khÃ´ng cáº§n downtime
   - Tá»± Ä‘á»™ng cÃ¢n báº±ng chunks khi thÃªm shard
   - Dataset hiá»‡n táº¡i: 1,053 books, cÃ³ thá»ƒ má»Ÿ rá»™ng lÃªn triá»‡u records

4. Báº£o máº­t Ä‘áº§y Ä‘á»§
   - Máº­t kháº©u hash bcrypt (cost 10)
   - JWT authentication cho API (24h expiry)
   - RBAC phÃ¢n quyá»n admin/customer
   - Chá»‘ng brute-force: khÃ³a sau 5 láº§n login sai

5. TÃ¬m kiáº¿m hiá»‡u quáº£
   - Full-text search trÃªn bookName, bookGroup
   - Káº¿t quáº£ tráº£ vá» vá»›i relevance score
   - Há»— trá»£ tiáº¿ng Viá»‡t (Unicode)

5.2. NhÆ°á»£c Ä‘iá»ƒm vÃ  Háº¡n cháº¿

1. Shard Key Cardinality tháº¥p
   - location chá»‰ cÃ³ 3 giÃ¡ trá»‹ (HÃ  Ná»™i, ÄÃ  Náºµng, HCM)
   - CÃ³ thá»ƒ gÃ¢y Jumbo Chunks khi má»™t chi nhÃ¡nh cÃ³ nhiá»u sÃ¡ch hÆ¡n
   - Äá» xuáº¥t: Sá»­ dá»¥ng Compound Shard Key { location: 1, bookCode: 1 }

2. Äá»™ trá»… Ä‘á»“ng bá»™
   - Replication lag 50-200ms trong Ä‘iá»u kiá»‡n bÃ¬nh thÆ°á»ng
   - CÃ³ thá»ƒ tÄƒng khi máº¡ng khÃ´ng á»•n Ä‘á»‹nh
   - BÃ¡o cÃ¡o thá»‘ng kÃª thá»i gian thá»±c cÃ³ thá»ƒ khÃ´ng chÃ­nh xÃ¡c tuyá»‡t Ä‘á»‘i

3. Phá»©c táº¡p váº­n hÃ nh
   - Cáº§n quáº£n lÃ½ 7 container Docker
   - YÃªu cáº§u RAM tá»‘i thiá»ƒu 8GB cho cluster
   - Cáº§n kiáº¿n thá»©c MongoDB administration

4. Dataset thá»­ nghiá»‡m
   - 1,053 sÃ¡ch chÆ°a Ä‘á»§ lá»›n Ä‘á»ƒ stress test
   - Cáº§n test vá»›i dataset 100,000+ records Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ chÃ­nh xÃ¡c

5. ChÆ°a cÃ³ TLS/SSL
   - Káº¿t ná»‘i MongoDB chÆ°a Ä‘Æ°á»£c mÃ£ hÃ³a
   - Cáº§n bá»• sung cho mÃ´i trÆ°á»ng production
```

---

## ğŸ“ TRANG 19: Káº¾T LUáº¬N VÃ€ PHÆ¯Æ NG HÆ¯á»šNG PHÃT TRIá»‚N

```
Káº¾T LUáº¬N VÃ€ PHÆ¯Æ NG HÆ¯á»šNG PHÃT TRIá»‚N

Káº¿t luáº­n

Qua quÃ¡ trÃ¬nh nghiÃªn cá»©u vÃ  thá»±c hiá»‡n Ä‘á» tÃ i "XÃ¢y dá»±ng há»‡ thá»‘ng E-Library
PhÃ¢n tÃ¡n nhiá»u cÆ¡ sá»Ÿ", nhÃ³m Ä‘Ã£ Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c káº¿t quáº£ sau:

Nhá»¯ng gÃ¬ Ä‘Ã£ lÃ m Ä‘Æ°á»£c:
1. XÃ¢y dá»±ng thÃ nh cÃ´ng há»‡ thá»‘ng quáº£n lÃ½ thÆ° viá»‡n phÃ¢n tÃ¡n vá»›i 4 node
   (1 trung tÃ¢m + 3 chi nhÃ¡nh) sá»­ dá»¥ng MongoDB Sharded Cluster.

2. Triá»ƒn khai Ä‘áº§y Ä‘á»§ cÃ¡c chá»©c nÄƒng nghiá»‡p vá»¥: quáº£n lÃ½ sÃ¡ch, ngÆ°á»i dÃ¹ng,
   mÆ°á»£n/tráº£ sÃ¡ch, giá» hÃ ng, vÃ  thá»‘ng kÃª bÃ¡o cÃ¡o.

3. CÃ i Ä‘áº·t thÃ nh cÃ´ng cÃ¡c ká»¹ thuáº­t NoSQL nÃ¢ng cao:
   - Zone Sharding theo vÃ¹ng Ä‘á»‹a lÃ½
   - Replica Set cho high availability
   - Aggregation Pipeline vá»›i 7 endpoints thá»‘ng kÃª
   - Map-Reduce vá»›i 5 operations phÃ¢n tÃ­ch
   - Full-text Search cho tÃ¬m kiáº¿m sÃ¡ch

4. Äáº£m báº£o báº£o máº­t vá»›i JWT authentication, bcrypt password hashing,
   RBAC vÃ  chá»‘ng brute-force attack.

5. XÃ¢y dá»±ng Dashboard thá»‘ng kÃª thá»i gian thá»±c vá»›i Chart.js, cung cáº¥p
   6 biá»ƒu Ä‘á»“ trá»±c quan.

Nhá»¯ng Ä‘iá»ƒm cÃ²n háº¡n cháº¿:
1. Shard Key cardinality tháº¥p (3 locations) cÃ³ thá»ƒ gÃ¢y máº¥t cÃ¢n báº±ng
   khi má»™t chi nhÃ¡nh cÃ³ nhiá»u sÃ¡ch hÆ¡n.

2. ChÆ°a triá»ƒn khai TLS/SSL encryption cho káº¿t ná»‘i MongoDB.

3. Dataset thá»­ nghiá»‡m (1,053 records) chÆ°a Ä‘á»§ lá»›n Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ hiá»‡u nÄƒng
   á»Ÿ quy mÃ´ production.

4. ChÆ°a cÃ³ cÆ¡ cháº¿ backup tá»± Ä‘á»™ng vÃ  disaster recovery plan.

Nhá»¯ng kiáº¿n thá»©c rÃºt ra Ä‘Æ°á»£c:
1. Hiá»ƒu sÃ¢u vá» Ä‘á»‹nh lÃ½ CAP vÃ  trade-off giá»¯a Consistency, Availability,
   Partition Tolerance trong há»‡ thá»‘ng phÃ¢n tÃ¡n.

2. Náº¯m vá»¯ng ká»¹ thuáº­t Sharding vÃ  Replication cá»§a MongoDB, cÃ¡ch chá»n
   Shard Key phÃ¹ há»£p vá»›i workload.

3. Kinh nghiá»‡m triá»ƒn khai multi-container application vá»›i Docker Compose.

4. Ká»¹ nÄƒng tá»‘i Æ°u query vá»›i index, aggregation pipeline vÃ  explain plan.

PhÆ°Æ¡ng hÆ°á»›ng phÃ¡t triá»ƒn

Äá»ƒ há»‡ thá»‘ng cÃ³ thá»ƒ triá»ƒn khai thá»±c táº¿ á»Ÿ quy mÃ´ lá»›n hÆ¡n, nhÃ³m Ä‘á» xuáº¥t
cÃ¡c hÆ°á»›ng phÃ¡t triá»ƒn sau:

1. Cáº£i tiáº¿n Shard Key
   - Chuyá»ƒn sang Compound Shard Key: { location: 1, bookCode: 1 }
   - TÄƒng cardinality lÃªn 3 Ã— 1000+ = 3000+ giÃ¡ trá»‹
   - CÃ¢n báº±ng táº£i tá»‘t hÆ¡n, trÃ¡nh Jumbo Chunks

2. TÃ­ch há»£p Redis Cache
   - Cache danh má»¥c sÃ¡ch (read-heavy data)
   - Giáº£m táº£i 70-80% read operations cho MongoDB
   - TTL (Time-To-Live) 5 phÃºt cho cache invalidation

3. NÃ¢ng cáº¥p báº£o máº­t
   - Triá»ƒn khai TLS/SSL cho MongoDB connections
   - Two-Factor Authentication (2FA) cho admin
   - Rate limiting cho API endpoints
   - Audit logging Ä‘áº§y Ä‘á»§

4. Má»Ÿ rá»™ng quy mÃ´
   - ThÃªm shard khi sá»‘ lÆ°á»£ng sÃ¡ch vÆ°á»£t 100,000
   - Triá»ƒn khai trÃªn cloud (AWS, GCP, Azure)
   - Auto-scaling dá»±a trÃªn traffic

5. PhÃ¡t triá»ƒn á»©ng dá»¥ng di Ä‘á»™ng
   - Mobile app cho sinh viÃªn (iOS/Android)
   - Push notification nháº¯c tráº£ sÃ¡ch
   - QR code check-in/check-out

6. TÃ­ch há»£p AI/ML
   - Gá»£i Ã½ sÃ¡ch dá»±a trÃªn lá»‹ch sá»­ mÆ°á»£n
   - Dá»± Ä‘oÃ¡n xu hÆ°á»›ng mÆ°á»£n sÃ¡ch
   - Chatbot há»— trá»£ tÃ¬m kiáº¿m
```

---

## ğŸ“ TRANG 20: TÃ€I LIá»†U THAM KHáº¢O

```
TÃ€I LIá»†U THAM KHáº¢O

CÃ¡c website tham kháº£o:

[1] MongoDB Inc. (2025). MongoDB Manual - Sharding.
    https://www.mongodb.com/docs/manual/sharding/
    Truy cáº­p thÃ¡ng 12 nÄƒm 2025.

[2] MongoDB Inc. (2025). MongoDB Manual - Replication.
    https://www.mongodb.com/docs/manual/replication/
    Truy cáº­p thÃ¡ng 12 nÄƒm 2025.

[3] The PHP Group. (2025). PHP Manual - MongoDB Driver.
    https://www.php.net/manual/en/set.mongodb.php
    Truy cáº­p thÃ¡ng 12 nÄƒm 2025.

[4] Docker Inc. (2025). Docker Compose Networking.
    https://docs.docker.com/compose/networking/
    Truy cáº­p thÃ¡ng 12 nÄƒm 2025.

[5] Firebase. (2025). PHP-JWT Library Documentation.
    https://github.com/firebase/php-jwt
    Truy cáº­p thÃ¡ng 12 nÄƒm 2025.

[6] Chart.js. (2025). Chart.js Documentation v4.4.
    https://www.chartjs.org/docs/latest/
    Truy cáº­p thÃ¡ng 12 nÄƒm 2025.

GiÃ¡o trÃ¬nh vÃ  tÃ i liá»‡u tham kháº£o:

[7] Nguyá»…n Duy Háº£i. (2025). BÃ i giáº£ng CÆ¡ sá»Ÿ dá»¯ liá»‡u tiÃªn tiáº¿n - NoSQL
    & Distributed Systems. TrÆ°á»ng Äáº¡i há»c SÆ° pháº¡m HÃ  Ná»™i.

[8] Bradshaw, S., Brazil, E., & Chodorow, K. (2019). MongoDB: The
    Definitive Guide (3rd ed.). O'Reilly Media.

[9] Kleppmann, M. (2017). Designing Data-Intensive Applications.
    O'Reilly Media.

[10] Gilbert, S., & Lynch, N. (2002). Brewer's Conjecture and the
     Feasibility of Consistent, Available, Partition-Tolerant Web
     Services. ACM SIGACT News, 33(2), 51-59.
```

---

## ğŸ“ TRANG 21: Báº¢NG KÃ HIá»†U, CHá»® VIáº¾T Táº®T

```
Báº¢NG KÃ HIá»†U, CHá»® VIáº¾T Táº®T

| STT | Tá»« viáº¿t táº¯t | Ã nghÄ©a |
|-----|-------------|---------|
| 1   | CSDL        | CÆ¡ sá»Ÿ dá»¯ liá»‡u |
| 2   | JSON        | JavaScript Object Notation |
| 3   | BSON        | Binary JSON |
| 4   | URL         | Uniform Resource Locator |
| 5   | API         | Application Programming Interface |
| 6   | REST        | Representational State Transfer |
| 7   | JWT         | JSON Web Token |
| 8   | CRUD        | Create, Read, Update, Delete |
| 9   | GUI         | Graphical User Interface |
| 10  | CLI         | Command Line Interface |
| 11  | NoSQL       | Not Only SQL |
| 12  | RBAC        | Role-Based Access Control |
| 13  | TTL         | Time To Live |
| 14  | TLS/SSL     | Transport Layer Security / Secure Sockets Layer |
| 15  | CAP         | Consistency, Availability, Partition Tolerance |
| 16  | HA          | High Availability |
| 17  | PHP         | PHP: Hypertext Preprocessor |
| 18  | VND         | Vietnamese Dong (Äá»“ng Viá»‡t Nam) |
```

---

# PHáº¦N C: CHUá»–I PROMPT THá»°C THI

## PROMPT 1: Táº¡o file LaTeX chÃ­nh (main.tex)

```
Báº¡n lÃ  má»™t chuyÃªn gia LaTeX. Dá»±a trÃªn cáº¥u trÃºc bÃ¡o cÃ¡o 31-12-2025 (21 trang),
táº¡o file main.tex vá»›i:

1. Packages cáº§n thiáº¿t:
   - geometry (2.5cm margins)
   - inputenc (utf8), fontenc (T5), babel (vietnamese)
   - graphicx, xcolor, tikz
   - listings (code), booktabs (tables)
   - hyperref, fancyhdr

2. Cáº¥u trÃºc input sections:
   - titlepage.tex
   - acknowledgement.tex (Lá»i cáº£m Æ¡n)
   - declaration.tex (Lá»i cam Ä‘oan)
   - chapter1_overview.tex
   - chapter2_analysis.tex
   - chapter3_implementation.tex
   - conclusion.tex
   - references.tex
   - appendix.tex

3. Page style:
   - Frontmatter: Roman numerals
   - Mainmatter: Arabic numerals
   - Header/Footer theo chuáº©n luáº­n vÄƒn HNUE
```

## PROMPT 2: Viáº¿t Chapter III - CÃ i Ä‘áº·t vÃ  ÄÃ¡nh giÃ¡

```
Báº¡n lÃ  giáº£ng viÃªn hÆ°á»›ng dáº«n. Viáº¿t Chapter III vá»›i ná»™i dung chi tiáº¿t tá»«
PHáº¦N B má»¥c "TRANG 15-16" á»Ÿ trÃªn.

YÃªu cáº§u:
1. Viáº¿t báº±ng tiáº¿ng Viá»‡t, vÄƒn phong há»c thuáº­t
2. Bao gá»“m cÃ¡c má»¥c:
   - 2. CÃ´ng cá»¥: MongoDB Compass, PHP, Docker (cÃ³ code examples)
   - 3. Giao diá»‡n (placeholder cho áº£nh)
   - 4. Kiá»ƒm thá»­ (4 ká»‹ch báº£n chi tiáº¿t vá»›i káº¿t quáº£)
   - 5. ÄÃ¡nh giÃ¡ (Æ°u/nhÆ°á»£c Ä‘iá»ƒm cá»¥ thá»ƒ)
3. TrÃ­ch dáº«n code thá»±c táº¿ tá»« Connection.php, init-sharding.sh
4. ChÃ¨n báº£ng benchmark tá»« BENCHMARK_RESULTS.md
```

## PROMPT 3: Viáº¿t Káº¿t luáº­n vÃ  PhÆ°Æ¡ng hÆ°á»›ng phÃ¡t triá»ƒn

```
Báº¡n lÃ  sinh viÃªn cao há»c. Viáº¿t pháº§n Káº¿t luáº­n vá»›i giá»ng vÄƒn khiÃªm tá»‘n
nhÆ°ng thá»ƒ hiá»‡n hiá»ƒu biáº¿t sÃ¢u sáº¯c.

Sá»­ dá»¥ng ná»™i dung tá»« PHáº¦N B má»¥c "TRANG 19".

Äáº£m báº£o:
1. Liá»‡t kÃª cá»¥ thá»ƒ nhá»¯ng gÃ¬ Ä‘Ã£ lÃ m Ä‘Æ°á»£c (5 Ä‘iá»ƒm)
2. Thá»«a nháº­n háº¡n cháº¿ (4 Ä‘iá»ƒm)
3. RÃºt ra kiáº¿n thá»©c (4 Ä‘iá»ƒm)
4. Äá» xuáº¥t phÃ¡t triá»ƒn thá»±c táº¿ (6 hÆ°á»›ng)
```

## PROMPT 4: Táº¡o file references.bib

```
Táº¡o file BibTeX vá»›i 10 tÃ i liá»‡u tham kháº£o tá»« PHáº¦N B má»¥c "TRANG 20".

Format:
- @online cho websites
- @book cho sÃ¡ch
- @misc cho bÃ i giáº£ng
- @article cho papers

Äáº£m báº£o cÃ³:
- MongoDB documentation (3 entries)
- PHP documentation (1 entry)
- Docker documentation (1 entry)
- SÃ¡ch O'Reilly (2 entries)
- BÃ i giáº£ng tháº§y Nguyá»…n Duy Háº£i (1 entry)
- Papers vá» CAP theorem (2 entries)
```

---

# PHáº¦N D: CHECKLIST CUá»I CÃ™NG

## TrÆ°á»›c khi ná»™p bÃ¡o cÃ¡o:

### Ná»™i dung text
- [ ] Trang 10: ÄÃ£ viáº¿t Ä‘áº§y Ä‘á»§ MongoDB Compass, PHP, Docker
- [ ] Trang 13-14: ÄÃ£ cÃ³ biá»ƒu Ä‘á»“ lá»›p, schema collections
- [ ] Trang 15-16: ÄÃ£ viáº¿t Ä‘áº§y Ä‘á»§ ChÆ°Æ¡ng III
- [ ] Trang 19: ÄÃ£ viáº¿t Káº¿t luáº­n hoÃ n chá»‰nh
- [ ] Trang 20: ÄÃ£ cÃ³ 10 tÃ i liá»‡u tham kháº£o
- [ ] Trang 21: ÄÃ£ bá»• sung 18 tá»« viáº¿t táº¯t

### HÃ¬nh áº£nh (Screenshots)
- [ ] áº¢nh 1: Giao diá»‡n Ä‘Äƒng nháº­p
- [ ] áº¢nh 2: Dashboard vá»›i 6 biá»ƒu Ä‘á»“ Chart.js
- [ ] áº¢nh 3: Danh sÃ¡ch sÃ¡ch vá»›i phÃ¢n trang
- [ ] áº¢nh 4: Quáº£n lÃ½ sÃ¡ch (Admin)
- [ ] áº¢nh 5: Docker Desktop - 7 containers
- [ ] áº¢nh 6: Terminal cháº¡y test-failover.sh
- [ ] áº¢nh 7: MongoDB Compass - books collection
- [ ] áº¢nh 8: MongoDB Compass - shard distribution

### Code trÃ­ch dáº«n
- [ ] Connection.php (3 mode: standalone, replicaset, sharded)
- [ ] init_indexes.php (7 indexes)
- [ ] JWTHelper.php (generateToken, validateToken)
- [ ] api/statistics.php (7 aggregation endpoints)
- [ ] api/mapreduce.php (5 map-reduce operations)
- [ ] docker-compose-sharded.yml (kiáº¿n trÃºc)
- [ ] init-sharding.sh (zone sharding config)

### Sá»‘ liá»‡u vÃ  báº£ng biá»ƒu
- [ ] Báº£ng benchmark (10 test cases)
- [ ] Báº£ng dataset size (4 collections)
- [ ] Báº£ng index analysis (7 indexes)
- [ ] Báº£ng káº¿t quáº£ failover test

---

**LÆ¯U Ã QUAN TRá»ŒNG:**

1. Giá»ng vÄƒn nháº¥t quÃ¡n: "chÃºng tÃ´i" hoáº·c "nhÃ³m nghiÃªn cá»©u"
2. KhÃ´ng sá»­ dá»¥ng placeholder `//` - thay báº±ng ná»™i dung thá»±c
3. Má»—i claim pháº£i cÃ³ minh chá»©ng (code, sá»‘ liá»‡u, áº£nh)
4. Cross-reference giá»¯a cÃ¡c chÆ°Æ¡ng
5. Screenshot trÆ°á»›c, viáº¿t text sau (Ä‘á»ƒ mÃ´ táº£ chÃ­nh xÃ¡c)
