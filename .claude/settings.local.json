{
  "permissions": {
    "allow": [
      "Bash(find:*)",
      "Bash(wc:*)",
      "Bash(grep:*)",
      "Bash(docker --version:*)",
      "Bash(docker-compose:*)",
      "Bash(chmod:*)",
      "Bash(sudo tee:*)",
      "Bash(docker info:*)",
      "Bash(ls:*)",
      "Bash(cd:*)",
      "Bash(composer update:*)",
      "Bash(for dir in Nhasach NhasachHaNoi NhasachDaNang NhasachHoChiMinh)",
      "Bash(do)",
      "Bash(if [ -d \"/Users/tuannghiat/Downloads/Final CSDLTT/$dir/vendor/firebase/php-jwt\" ])",
      "Bash(then)",
      "Bash(echo:*)",
      "Bash(else)",
      "Bash(fi)",
      "Bash(done)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nInitial commit: Distributed e-Library System with JWT Authentication\n\nFeatures:\n- 4-node distributed architecture \\(Central Hub + 3 branches\\)\n- MongoDB Replica Set with Docker deployment\n- JWT authentication for API security\n- Full CRUD operations for users, books, carts, orders\n- Inter-node synchronization with REST APIs\n- Role-based access control \\(admin/customer\\)\n- Password hashing with bcrypt\n- Text search with MongoDB indexes\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git branch:*)",
      "Bash(git remote add:*)",
      "Bash(cd /Users/tuannghiat/Downloads/Final\\\\ CSDLTT && git commit:*)",
      "Bash(tree:*)",
      "Bash(python3:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(xargs:*)",
      "Bash(php:*)",
      "Bash(for f in *.books.json)",
      "Bash(for f in *.users.json)",
      "Bash(for f in *.orders.json)",
      "Bash(for f in *.carts.json)",
      "Bash(mongosh:*)",
      "Bash(mongoimport:*)",
      "Bash(tee:*)",
      "Bash(cat:*)",
      "Bash(pecl install:*)",
      "Bash(pecl list:*)",
      "Bash(# Create directory and copy mongodb.so mkdir -p /opt/homebrew/lib/php/pecl/20240924/ cp /private/tmp/pear/temp/pear-build-tuannghiatb40e3cm719osfbOrWHh/install-mongodb-2.1.4/opt/homebrew/Cellar/php/8.4.14/pecl/20240924/mongodb.so /opt/homebrew/lib/php/pecl/20240924/ || echo \"\"Trying alternative...\"\" # Find the built file find /private/tmp -name \"\"mongodb.so\"\" -newer /tmp)",
      "Bash(git reset:*)",
      "Bash( file *.sh)",
      "Bash(docker ps:*)",
      "Bash(file:*)",
      "Bash(curl:*)",
      "Bash(docker logs:*)",
      "Bash(lsof:*)",
      "Bash(ln:*)",
      "Bash(docker exec mongo1 mongosh --quiet --eval '\nuse Nhasach;\nprint\\(\"\"=== NHASACH \\(CENTRAL\\) ===\"\"\\);\nprint\\(\"\"Books: \"\" + db.books.countDocuments\\(\\)\\);\nprint\\(\"\"Users: \"\" + db.users.countDocuments\\(\\)\\);\nprint\\(\"\"Orders: \"\" + db.orders.countDocuments\\(\\)\\);\nprint\\(\"\"Carts: \"\" + db.carts.countDocuments\\(\\)\\);\nprint\\(\"\"\\\\n--- Users ---\"\"\\);\ndb.users.find\\({}, {username: 1, role: 1, balance: 1}\\).forEach\\(doc => printjson\\(doc\\)\\);\nprint\\(\"\"\\\\n--- Sample Books \\(limit 5\\) ---\"\"\\);\ndb.books.find\\({}, {bookCode: 1, bookName: 1, location: 1, pricePerDay: 1, quantity: 1}\\).limit\\(5\\).forEach\\(doc => printjson\\(doc\\)\\);\n')",
      "Bash(docker exec:*)",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(# Update Connection.php for all branches to use standalone mode for dir in NhasachHaNoi NhasachDaNang NhasachHoChiMinh; do sed -i '''' \"\"s/\\\\\\\\\\\\$MODE = ''sharded''/\\\\\\\\\\\\$MODE = ''standalone''/\"\" \"\"/Users/tuannghiat/Downloads/Final CSDLTT/$dir/Connection.php\"\" || true sed -i '''' \"\"s/\\\\\\\\\\\\$MODE = ''replicaset''/\\\\\\\\\\\\$MODE = ''standalone''/\"\" \"\"/Users/tuannghiat/Downloads/Final CSDLTT/$dir/Connection.php\"\" || true done # Copy updated statistics.php to all branches for dir in NhasachHaNoi NhasachDaNang NhasachHoChiMinh; do cp \"\"/Users/tuannghiat/Downloads/Final CSDLTT/Nhasach/api/statistics.php\"\" \"\"/Users/tuannghiat/Downloads/Final CSDLTT/$dir/api/statistics.php\"\" done echo \"\"=== Verification ===\"\" for dir in Nhasach NhasachHaNoi NhasachDaNang NhasachHoChiMinh; do echo \"\"$dir Connection mode:\"\" grep \"\"MODE = \"\" \"\"/Users/tuannghiat/Downloads/Final CSDLTT/$dir/Connection.php\"\")",
      "Bash(# Kill existing PHP servers pkill -f \"\"php -S localhost:800\"\" || true sleep 1 # Start all PHP servers in background cd \"\"/Users/tuannghiat/Downloads/Final CSDLTT\"\" php -S localhost:8001 -t Nhasach 2>&1 & php -S localhost:8002 -t NhasachHaNoi 2>&1 & php -S localhost:8003 -t NhasachDaNang 2>&1 & php -S localhost:8004 -t NhasachHoChiMinh 2>&1 & sleep 2 echo \"\"=== PHP Servers Status ===\"\" ps aux)",
      "Bash(# Quick test to verify dashboard.php loads curl -s \"\"http://localhost:8001/php/dashboard.php\"\" -b \"\"PHPSESSID=test\"\")",
      "Bash(__NEW_LINE__ echo \"2. order_status_summary:\")",
      "Bash(__NEW_LINE__ echo \"3. popular_books:\")",
      "Bash(__NEW_LINE__ echo \"4. user_statistics:\")",
      "Bash(__NEW_LINE__ echo \"5. monthly_trends:\")",
      "Bash(pdflatex:*)",
      "Bash(unzip:*)"
    ]
  }
}
