% ============================================================================
% BÁO CÁO MÔN HỌC: CƠ SỞ DỮ LIỆU TIÊN TIẾN
% Đề tài: Xây dựng hệ thống e-Library phân tán nhiều cơ sở
% ============================================================================
\documentclass[a4paper,12pt]{report}

% ============================================================================
% PACKAGES
% ============================================================================
\usepackage[utf8]{inputenc}
\usepackage[T5]{fontenc}
\usepackage[vietnamese]{babel}
\usepackage[top=2.5cm, bottom=2.5cm, left=3cm, right=2cm]{geometry}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{tikz}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{float}
\usepackage{indentfirst}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumitem}

% ============================================================================
% TikZ Libraries
% ============================================================================
\usetikzlibrary{shapes.geometric, arrows, positioning, fit, backgrounds}

% ============================================================================
% Hyperref Configuration
% ============================================================================
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    pdftitle={e-Library Distributed System},
    pdfauthor={Nhom 10 - Cao hoc K35},
}

% ============================================================================
% Listings Configuration (for code)
% ============================================================================
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    framesep=3pt,
}

\lstset{style=mystyle}

% Define PHP language for listings
\lstdefinelanguage{PHP}{
    keywords={class, function, return, if, else, elseif, foreach, for, while, do, switch, case, break, continue, echo, print, require, require_once, include, include_once, new, public, private, protected, static, const, var, true, false, null, array, try, catch, throw},
    sensitive=true,
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    morestring=[b]",
    morestring=[b]',
}

% Define JSON language
\lstdefinelanguage{json}{
    morestring=[b]",
    morestring=[b]',
    literate=
     *{0}{{{\color{purple}0}}}{1}
      {1}{{{\color{purple}1}}}{1}
      {2}{{{\color{purple}2}}}{1}
      {3}{{{\color{purple}3}}}{1}
      {4}{{{\color{purple}4}}}{1}
      {5}{{{\color{purple}5}}}{1}
      {6}{{{\color{purple}6}}}{1}
      {7}{{{\color{purple}7}}}{1}
      {8}{{{\color{purple}8}}}{1}
      {9}{{{\color{purple}9}}}{1}
      {:}{{{\color{red}:}}}{1}
      {,}{{{\color{red},}}}{1}
      {\{}{{{\color{blue}\{}}}{1}
      {\}}{{{\color{blue}\}}}}{1}
      {[}{{{\color{blue}[}}}{1}
      {]}{{{\color{blue}]}}}{1},
}

% ============================================================================
% Header/Footer Configuration
% ============================================================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyhead[R]{e-Library Distributed System}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% ============================================================================
% Graphics Path
% ============================================================================
\graphicspath{{screenshots/}{figures/}}

% ============================================================================
% Custom Commands
% ============================================================================
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\mongodb}{\texttt{MongoDB}}
\newcommand{\php}{\texttt{PHP}}

% ============================================================================
% DOCUMENT
% ============================================================================
\begin{document}

% Title page
\input{titlepage}

% Front matter
\pagenumbering{roman}

% Lời cảm ơn
\input{acknowledgement}

% Lời cam đoan
\input{declaration}

% Mục lục
\tableofcontents
\newpage

% Danh mục hình
\listoffigures
\newpage

% Danh mục bảng
\listoftables
\newpage

% ============================================================================
% MAIN MATTER
% ============================================================================
\pagenumbering{arabic}

% Chương I & II: Tổng quan và Phân tích thiết kế
\input{chapter1_2}

% Chương III: Cài đặt và Đánh giá
\input{chapter3}

% Kết luận và Tài liệu tham khảo
\input{conclusion}

\end{document}
